{"version":3,"file":"js/239.4b907141.js","mappings":"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","sources":["webpack://frontend/./src/api/file.js","webpack://frontend/./src/components/VideoPlayer.vue","webpack://frontend/./src/components/VideoPlayer.vue?3e5d","webpack://frontend/./src/components/Grid.vue","webpack://frontend/./src/components/Grid.vue?f898","webpack://frontend/./src/components/VideoItem.vue","webpack://frontend/./src/components/VideoItem.vue?641f","webpack://frontend/./src/components/TimeLine.vue","webpack://frontend/./src/components/TimeLine.vue?b3eb","webpack://frontend/./src/views/video/index.vue","webpack://frontend/./src/views/video/index.vue?a6e4"],"sourcesContent":["import api from '@/utils/request'\n\n// 分页查询文件\nexport const filePageApi = params => api.get('/api/file/page', { params })\n\n// 删除文件\nexport const fileDeleteApi = id => api.delete('/api/file/' + id)\n\n// 上传文件\nexport const fileUploadApi = fd =>\n  api.post('/api/file/upload', fd, {\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  })\n\n// 导出视频\nexport const exportVideoApi = params =>\n  api.post('/video-api/processVideo', params, {\n    hideMessage: true\n  })\n\n// 修改文件\nexport const fileEditApi = params => api.put('/api/file/setResult', params)\n","<template>\n  <div class=\"video-player-container\">\n    <div class=\"video\">\n      <video\n        ref=\"videoRef\"\n        :src=\"currentVideoUrl ? currentVideoUrl : null\"\n        @timeupdate=\"updateProgressBar\"\n        @loadedmetadata=\"handleLoaded\"\n        @ended=\"isPlay = false\"\n      ></video>\n      <template v-if=\"showMask\">\n        <div class=\"mask\"></div>\n        <div class=\"box\"></div>\n        <div class=\"mask\"></div>\n      </template>\n    </div>\n\n    <div class=\"button-container\">\n      <div class=\"play\">\n        <i class=\"iconfont icon-24gf-pause2\" v-if=\"isPlay\" @click=\"isPlay = false\"></i>\n        <i class=\"iconfont icon-bofang\" v-else @click=\"isPlay = true\"></i>\n      </div>\n      <span class=\"current-time\">{{ formattedDuration(currentTime) }}</span>\n      <span class=\"total-time\">{{ formattedDuration(duration) }}</span>\n      <div class=\"progress\" ref=\"progressBarRef\" @mousedown=\"startDrag\">\n        <div class=\"line\" ref=\"progressLineRef\"></div>\n        <div class=\"point\" ref=\"progressIndicatorRef\"></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { inject, ref, watch } from 'vue'\nimport Store from '@/store'\n\n// 当前预览器加载的视频 URL\nconst currentVideoUrl = inject(Store.currentVideoUrl)\n\nconst isPlay = ref(false)\n\nwatch(\n  () => isPlay.value,\n  () => {\n    const video = videoRef.value\n\n    if (isPlay.value) {\n      if (video.currentTime === video.duration) {\n        video.currentTime = 0\n      }\n      video.play()\n    } else {\n      video.pause()\n    }\n  }\n)\n\nconst videoRef = ref(null)\nconst progressBarRef = ref(null)\nconst progressLineRef = ref(null)\nconst progressIndicatorRef = ref(null)\n\nconst duration = ref(0)\nconst currentTime = ref(0)\n\nconst handleLoaded = e => {\n  duration.value = e.target.duration\n}\n\nconst formattedDuration = d => {\n  const hours = Math.floor(d / 3600)\n  const minutes = Math.floor((d % 3600) / 60)\n  const seconds = Math.floor(d % 60)\n\n  const formattedHours = hours.toString().padStart(2, '0')\n  const formattedMinutes = minutes.toString().padStart(2, '0')\n  const formattedSeconds = seconds.toString().padStart(2, '0')\n\n  return `${formattedHours}:${formattedMinutes}:${formattedSeconds}`\n}\n\nconst dragging = ref(false)\n\nconst updateProgressBar = () => {\n  const video = videoRef.value\n  const progressLine = progressLineRef.value\n  const progressIndicator = progressIndicatorRef.value\n\n  currentTime.value = video.currentTime\n\n  const progress = (video.currentTime / video.duration) * 100\n  progressLine.style.width = `${progress}%`\n  progressIndicator.style.left = `${progress}%`\n}\n\nconst startDrag = () => {\n  dragging.value = true\n\n  const progressBar = progressBarRef.value\n  const video = videoRef.value\n\n  const handleMouseMove = e => {\n    const rect = progressBar.getBoundingClientRect()\n    const x = e.clientX - rect.left\n    const progress = (x / rect.width) * 100\n\n    video.currentTime = (progress / 100) * video.duration\n    updateProgressBar()\n  }\n\n  const handleMouseUp = () => {\n    dragging.value = false\n    document.removeEventListener('mousemove', handleMouseMove)\n    document.removeEventListener('mouseup', handleMouseUp)\n  }\n\n  document.addEventListener('mousemove', handleMouseMove)\n  document.addEventListener('mouseup', handleMouseUp)\n}\n\n// eslint-disable-next-line no-undef\ndefineProps({\n  showMask: {\n    type: Boolean,\n    default: false\n  }\n})\n</script>\n\n<style lang=\"scss\" scope>\n.video-player-container {\n  width: 100%;\n  height: 422px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  .video {\n    width: 658.86px;\n    height: 370.61px;\n\n    margin: 8px 0;\n    video {\n      width: 658.86px;\n      height: 370.61px;\n      background: #000000;\n    }\n\n    position: relative;\n\n    .box {\n      position: absolute;\n      width: calc(370.61px * (9 / 16));\n      height: 100%;\n      border: 2px solid var(--el-color-primary);\n      left: calc((100% - 370.61px * (9 / 16)) / 2);\n      top: 0;\n    }\n\n    .mask {\n      position: absolute;\n      top: 0;\n      width: calc((100% - 370.61px * (9 / 16)) / 2);\n      height: 100%;\n      background: rgba(0, 0, 0, 0.8);\n\n      &:first-child {\n        left: 0;\n      }\n\n      &:last-child {\n        right: 0;\n      }\n    }\n  }\n\n  .button-container {\n    width: 658.86px;\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    padding-bottom: 8px;\n    user-select: none;\n\n    .current-time {\n      font-size: 12px;\n      margin-right: 14px;\n      color: #57becb;\n    }\n\n    .total-time {\n      font-size: 12px;\n      margin-right: 14px;\n      color: #bbbbbb;\n    }\n\n    .play {\n      text-align: center;\n      font-size: 12px;\n      font-weight: bold;\n      color: #efefef;\n      cursor: pointer;\n      margin-right: 8px;\n    }\n\n    .progress {\n      flex: 1;\n      background: #242426;\n      height: 4px;\n      border-radius: 4px;\n      position: relative;\n      cursor: pointer;\n\n      .line {\n        height: 100%;\n        background: #57becb;\n        width: 0;\n        border-radius: 4px;\n      }\n\n      .point {\n        position: absolute;\n        left: 0;\n        top: 50%;\n        transform: translate(-50%, -50%);\n        width: 8px;\n        height: 8px;\n        border-radius: 50%;\n        background: #fff;\n        border: 2px solid #57becb;\n      }\n    }\n  }\n}\n</style>\n","import script from \"./VideoPlayer.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./VideoPlayer.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./VideoPlayer.vue?vue&type=style&index=0&id=4588d76a&lang=scss&scope=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div\n    style=\"position: relative; flex-shrink: 0\"\n    :style=\"{ width: width + 'px', height: '22px' }\"\n  >\n    <!-- 小格 -->\n    <div\n      class=\"grid-container\"\n      :style=\"{ width: width + 'px', height: height + 'px' }\"\n    ></div>\n\n    <!-- 数字 -->\n    <div\n      class=\"grid-number\"\n      :style=\"{ marginTop: height + 2 + 'px' }\"\n      v-if=\"showNumber\"\n    >\n      {{ time }}\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, watchEffect, defineProps, computed } from \"vue\";\nimport Mapping from \"@/map\";\n\n// 接收参数\nconst props = defineProps({\n  width: Number,\n  frame: Number,\n  showNumber: Boolean,\n});\n\n// 小格的高度\nconst height = computed(() => (props.showNumber ? 5 : 3));\n\n// 小格的显示时间\nconst time = computed(() =>\n  Mapping.frame2Time(props.frame ? props.frame : 0, 30)\n);\n</script>\n\n<style>\n.grid-container {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  background: #202020;\n  border-left: 1.5px solid #707070;\n}\n\n.grid-number {\n  position: absolute;\n  left: 0;\n  bottom: 7px;\n  color: #979797;\n  font-weight: bold;\n  font-size: 12px;\n  transform: scale(0.83333333);\n  transform-origin: left center;\n  line-height: 18px;\n}\n</style>\n","import script from \"./Grid.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Grid.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Grid.vue?vue&type=style&index=0&id=c78efdf4&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div class=\"video-item\" :style=\"{ width: width + 'px' }\">\n    <!-- <img\n      class=\"video-frame\"\n      v-for=\"item in videoFrameList\"\n      :key=\"item\"\n      :src=\"item.url\"\n    /> -->\n    <div\n      class=\"video-frame\"\n      :style=\"{\n        backgroundImage: backgroundStyle.image,\n        backgroundPosition: backgroundStyle.position,\n        height: frameHeight + 'px',\n      }\"\n    ></div>\n    <!-- 分割线 -->\n    <div class=\"placeholder\"></div>\n  </div>\n</template>\n\n<script setup>\nimport {\n  defineProps,\n  computed,\n  inject,\n  watchEffect,\n  ref,\n  onRenderTracked,\n  onRenderTriggered,\n} from \"vue\";\nimport Mapping from \"@/map\";\nimport Store from \"@/store\";\n\nconst props = defineProps({\n  visionTrackMaterial: Object,\n  frames: Array,\n});\n\nconst frameWidth = inject(Store.frameWidth);\n\nconst backgroundStyle = ref({ image: \"\", position: \"\" });\n\nconst frameHeight = Store.VIDEO_FRAME_HEIGHT;\n\nwatchEffect(() => {\n  // debugger;\n  // 当传入的 frames 为空的时候，就是本 VideoItem 不需要渲染的时候\n  if (props.frames) {\n    const imageList = [];\n    const positionList = [];\n    for (let i = 0; i < props.frames.length; i++) {\n      const frame = props.frames[i];\n      const blobUrl = frame.blobUrl;\n      const position = frame.position;\n      // const image = blobUrl\n      //   ? `url(${blobUrl})`\n      //   : `url(https://ishaolizhi.file.hearfresh.cn/jxvW7NlLf8kyXS5Tm7doOgvUJufsQBCg/1.png)`;\n      const image = blobUrl\n        ? `url(${blobUrl})`\n        : `linear-gradient(#181818, #181818)`;\n      imageList.push(image);\n      positionList.push(position);\n    }\n\n    backgroundStyle.value = {\n      image: imageList.join(\",\"),\n      position: positionList.join(\",\"),\n    };\n  }\n  // debugger;\n});\n\nonRenderTriggered((event) => {\n  // debugger;\n});\n\nconst width = computed(() =>\n  props.visionTrackMaterial\n    ? Mapping.getMaterialWidth(\n        props.visionTrackMaterial.timelineIn,\n        props.visionTrackMaterial.timelineOut,\n        frameWidth.value\n      )\n    : 0\n);\n</script>\n\n<style scoped lang=\"scss\">\n.video-item {\n  background: #000;\n  position: relative;\n  display: flex;\n  overflow: hidden;\n  align-items: center;\n\n  .video-frame {\n    // flex-shrink: 0;\n    // width: 49px;\n    width: 100%;\n    overflow: hidden;\n    background-repeat: no-repeat;\n    // background-size: contain;\n    // object-fit: cover;\n  }\n\n  .placeholder {\n    position: absolute;\n    right: 0;\n    width: 2px;\n    background: #202020;\n    height: 100%;\n    top: 0;\n    bottom: 0;\n  }\n}\n</style>","import script from \"./VideoItem.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./VideoItem.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./VideoItem.vue?vue&type=style&index=0&id=6fcc4fd5&scoped=true&lang=scss\"\n\nimport exportComponent from \"/Users/pdxing/Desktop/order/20240104_vue+java仿剪映_3040/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6fcc4fd5\"]])\n\nexport default __exports__","<template>\n  <div class=\"timeline-container\" :style=\"{ width: timeLineContainer_width + 'px' }\">\n    <!-- 顶部操作区域 -->\n    <section class=\"top-operation-area\">\n      <div></div>\n      <!-- <div>\n        <div class=\"top-button-left\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"8.234\"\n            height=\"8.234\"\n            viewBox=\"0 0 8.234 8.234\"\n          >\n            <path\n              id=\"路径_1555\"\n              data-name=\"路径 1555\"\n              d=\"M129.175,132.449l1.213,1.137c.178.18.361.471.183.651a.4.4,0,0,1-.6,0l-1.859-1.882a.363.363,0,0,1-.01-.512l1.869-1.911a.4.4,0,0,1,.6,0c.178.18-.005.471-.183.651l-1.2,1.181h4.084a3.045,3.045,0,0,1,2.963,3.064,3.172,3.172,0,0,1-2.963,3.2h-4.355c-.25,0-.46-.116-.46-.366s.21-.32.46-.32h4.319a2.8,2.8,0,0,0,2.313-2.518,2.648,2.648,0,0,0-2.313-2.377h-4.063Z\"\n              transform=\"translate(-128.003 -129.796)\"\n              fill=\"#fff\"\n            />\n          </svg>\n        </div>\n\n        <div class=\"top-button-left\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"8.234\"\n            height=\"8.234\"\n            viewBox=\"0 0 8.234 8.234\"\n          >\n            <path\n              id=\"路径_1556\"\n              data-name=\"路径 1556\"\n              d=\"M7.063,2.653,5.849,3.79a1.248,1.248,0,0,0-.129.152.814.814,0,0,0-.1.173.386.386,0,0,0-.03.173.242.242,0,0,0,.071.152.474.474,0,0,0,.144.1.377.377,0,0,0,.311,0,.473.473,0,0,0,.144-.1L8.123,2.558a.385.385,0,0,0,.081-.12.373.373,0,0,0,.03-.136.353.353,0,0,0-.023-.136.345.345,0,0,0-.078-.12L6.265.135a.473.473,0,0,0-.144-.1.377.377,0,0,0-.311,0,.473.473,0,0,0-.144.1.242.242,0,0,0-.071.152.386.386,0,0,0,.03.173.814.814,0,0,0,.1.173,1.246,1.246,0,0,0,.129.152l1.2,1.181H2.963a2.815,2.815,0,0,0-1.156.248,3.005,3.005,0,0,0-.942.669,3.148,3.148,0,0,0-.633.976A3.08,3.08,0,0,0,0,5.03,3.244,3.244,0,0,0,.232,6.222,3.429,3.429,0,0,0,.865,7.247a3.085,3.085,0,0,0,.942.717,2.635,2.635,0,0,0,1.156.27H7.318A.684.684,0,0,0,7.5,8.212a.45.45,0,0,0,.146-.067.32.32,0,0,0,.1-.114.352.352,0,0,0,.037-.163.311.311,0,0,0-.037-.155.264.264,0,0,0-.1-.1A.463.463,0,0,0,7.5,7.563a.952.952,0,0,0-.177-.015H3a1.712,1.712,0,0,1-.826-.239A2.954,2.954,0,0,1,1.43,6.7a3.266,3.266,0,0,1-.537-.814A2.108,2.108,0,0,1,.686,5.03,1.965,1.965,0,0,1,.893,4.2a2.943,2.943,0,0,1,.537-.766,2.846,2.846,0,0,1,.743-.56A1.835,1.835,0,0,1,3,2.653H7.063Z\"\n              fill=\"#fff\"\n            />\n          </svg>\n        </div>\n\n        <div class=\"top-button-left\">\n          <svg\n            id=\"组_2943\"\n            data-name=\"组 2943\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"7.6\"\n            height=\"8.235\"\n            viewBox=\"0 0 7.6 8.235\"\n          >\n            <rect\n              id=\"矩形_2307\"\n              data-name=\"矩形 2307\"\n              width=\"1\"\n              height=\"8.235\"\n              transform=\"translate(1.8)\"\n              fill=\"#fff\"\n            />\n            <rect\n              id=\"矩形_2308\"\n              data-name=\"矩形 2308\"\n              width=\"1\"\n              height=\"8.235\"\n              transform=\"translate(4.8)\"\n              fill=\"#fff\"\n            />\n            <rect id=\"矩形_2309\" data-name=\"矩形 2309\" width=\"2.8\" height=\"1.2\" fill=\"#fff\" />\n            <rect\n              id=\"矩形_2310\"\n              data-name=\"矩形 2310\"\n              width=\"2.8\"\n              height=\"1.2\"\n              transform=\"translate(4.8)\"\n              fill=\"#fff\"\n            />\n            <rect\n              id=\"矩形_2311\"\n              data-name=\"矩形 2311\"\n              width=\"2.8\"\n              height=\"1.2\"\n              transform=\"translate(4.8 7.034)\"\n              fill=\"#fff\"\n            />\n            <rect\n              id=\"矩形_2312\"\n              data-name=\"矩形 2312\"\n              width=\"2.8\"\n              height=\"1.2\"\n              transform=\"translate(0 7.034)\"\n              fill=\"#fff\"\n            />\n          </svg>\n        </div>\n\n        <div class=\"top-button-left\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"8.74\"\n            height=\"9.712\"\n            viewBox=\"0 0 8.74 9.712\"\n          >\n            <path\n              id=\"路径_1557\"\n              data-name=\"路径 1557\"\n              d=\"M128.85,87.276h-.486a.364.364,0,0,1,0-.728h8.012a.364.364,0,0,1,0,.728h-6.8V93.71a.607.607,0,0,0,.607.607h4.37a.607.607,0,0,0,.607-.607V88.368a.364.364,0,1,1,.728,0V93.71a1.335,1.335,0,0,1-1.335,1.335h-4.37a1.335,1.335,0,0,1-1.335-1.335Zm2.549-1.214a.364.364,0,0,1,0-.728h1.942a.364.364,0,1,1,0,.728Zm-.364,3.278a.364.364,0,1,1,.728,0v2.913a.364.364,0,1,1-.728,0Zm1.942,0a.364.364,0,0,1,.728,0v2.913a.364.364,0,0,1-.728,0Z\"\n              transform=\"translate(-128 -85.333)\"\n              fill=\"#fff\"\n            />\n          </svg>\n        </div>\n      </div> -->\n\n      <div>\n        <!-- 放大时间轴 -->\n        <div\n          class=\"top-button-right\"\n          @click=\"clickZoomIn\"\n          :style=\"{\n            pointerEvents:\n              maxFrameOfMaterial === 0 || frameWidth === maxFrameWidth ? 'none' : 'auto',\n            opacity: maxFrameOfMaterial === 0 || frameWidth === maxFrameWidth ? 0.2 : 1\n          }\"\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"10.553\"\n            height=\"10.524\"\n            viewBox=\"0 0 10.553 10.524\"\n          >\n            <path\n              id=\"路径_1558\"\n              data-name=\"路径 1558\"\n              d=\"M137.633,135.634H133.27v-4.38a.44.44,0,1,0-.88,0v4.377l-4.431,0h0a.44.44,0,0,0,0,.88l4.434,0V140.9a.44.44,0,1,0,.88,0v-4.384h4.361a.44.44,0,0,0,0-.88Z\"\n              transform=\"translate(-127.518 -130.816)\"\n              fill=\"#fff\"\n            />\n          </svg>\n        </div>\n\n        <!-- 缩小时间轴 -->\n        <div\n          class=\"top-button-right\"\n          @click=\"clickZoomOut\"\n          :style=\"{\n            pointerEvents:\n              maxFrameOfMaterial === 0 || frameWidth === minFrameWidth ? 'none' : 'auto',\n            opacity: maxFrameOfMaterial === 0 || frameWidth === minFrameWidth ? 0.2 : 1\n          }\"\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"10.553\"\n            height=\"0.885\"\n            viewBox=\"0 0 10.553 0.885\"\n          >\n            <path\n              id=\"路径_1559\"\n              data-name=\"路径 1559\"\n              d=\"M137.633,135.634H133.27v-.006c.008.008-.2.006-.44.006l-.44-.006v0l-4.431,0h0a.44.44,0,0,0,0,.88l4.434,0v0c.019,0,.2,0,.44,0s.464.006.44,0v.006h4.361a.44.44,0,0,0,0-.88Z\"\n              transform=\"translate(-127.518 -135.63)\"\n              fill=\"#fff\"\n            />\n          </svg>\n        </div>\n\n        <!-- 合适的时间轴 -->\n        <div\n          class=\"top-button-right\"\n          @click=\"clickZoomFit\"\n          :style=\"{\n            pointerEvents: maxFrameOfMaterial === 0 ? 'none' : 'auto',\n            opacity: maxFrameOfMaterial === 0 ? 0.5 : 1\n          }\"\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"10.583\"\n            height=\"10.524\"\n            viewBox=\"0 0 10.583 10.524\"\n          >\n            <path\n              id=\"路径_1560\"\n              data-name=\"路径 1560\"\n              d=\"M5.217,6.019c0-.288-.229-.4-.506-.4H.756a.409.409,0,1,0,0,.817H3.83L.443,9.814A.391.391,0,0,0,1,10.367l3.412-3.4v3.111a.41.41,0,1,0,.82,0V6.019m5.256-2.005H7.41L10.8.639a.391.391,0,1,0-.555-.553l-3.4,3.4V.375a.41.41,0,1,0-.82,0V4.41c0,.012.012.012.012.024a.429.429,0,0,0,.109.288.364.364,0,0,0,.374.1h3.954a.406.406,0,0,0,.41-.408.4.4,0,0,0-.4-.4Z\"\n              transform=\"translate(-0.329 0.035)\"\n              fill=\"#fff\"\n            />\n          </svg>\n        </div>\n      </div>\n    </section>\n\n    <section style=\"width: 100%; height: calc(100% - 31px); display: flex; flex-direction: row\">\n      <!-- 左部操作区域 -->\n      <div class=\"left-operation-area\" :style=\"{ width: '37px' }\"></div>\n\n      <!-- 时间轴 -->\n      <div class=\"timeline\" :style=\"{ width: timeLine_width + 'px' }\" ref=\"timeLine\">\n        <!-- 时间轴刻度 -->\n        <div class=\"timescale\" :style=\"{ width: timescale_width + 'px' }\">\n          <!-- 宽度占位 -->\n          <div style=\"flex-shrink: 0\" :style=\"{ width: timescale_placeholder_width + 'px' }\"></div>\n\n          <!-- 时间轴的格子 -->\n          <grid\n            v-for=\"grid in gridBufferList\"\n            v-bind:key=\"grid\"\n            :frame=\"grid.frame\"\n            :width=\"grid.width\"\n            :showNumber=\"grid.showNumber\"\n          ></grid>\n        </div>\n\n        <!-- 时间轴的视频容器 -->\n        <div class=\"video-line\" :style=\"{ width: timescale_width + 'px' }\">\n          <video-item\n            v-for=\"(item, index) in videoTrackMaterialList\"\n            :key=\"item\"\n            :visionTrackMaterial=\"item\"\n            :frames=\"framesMap.get(index)\"\n          ></video-item>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script setup>\nimport Store from '@/store'\nimport { inject, ref, onMounted, computed, watchEffect } from 'vue'\nimport Grid from '@/components/Grid.vue'\nimport VideoItem from '@/components/VideoItem.vue'\nimport Mapping from '@/map'\nimport { TimeLine } from '@/viewmodels'\n\n// 核心数据\nconst coreData = inject(Store.coreData)\n\n// 视频轨道渲染数据\nconst videoTrackMaterialList = computed(() =>\n  Mapping.getVideoTrackMaterialList(\n    coreData.sections[currentSectionIndex.value - 1].sectionTimeline.visionTrack\n      .visionTrackMaterials\n  )\n)\n\n// 帧宽度：决定了时间轴的比例\nconst frameWidth = inject(Store.frameWidth)\n\n// 时间轴\nconst timeLine = ref(null)\n\n// timescale's grid\nconst gridBufferList = ref([])\n\n/** 依赖注入 start */\n// 时间轴容器的宽度\nconst timeLineContainer_width = inject(Store.timeLineContainer_width)\n\n// 时间轴滚动轴左偏移量\nconst timeLineOffsetLeft = inject(Store.timeLineOffsetLeft)\n\n// 时间轴宽度：用户能看见的宽度\nconst timeLine_width = inject(Store.timeLine_width)\n\n// 时间刻度总宽度：包含用户看不见的宽度\nconst timescale_width = inject(Store.timescale_width)\n\n// 时间刻度左侧占位的宽度\nconst timescale_placeholder_width = inject(Store.timescale_placeholder_width)\n\n// 当前格子宽度\nconst gridWidth = inject(Store.gridWidth)\n\n// 格子内帧数\nconst gridFrame = inject(Store.gridFrame)\n\n// 每组格子内的帧数\nconst groupGridFrame = inject(Store.groupGridFrame)\n\n// 段落级焦点\nconst currentSectionIndex = inject(Store.currentSectionIndex)\n\n// 最小帧宽度\nconst minFrameWidth = inject(Store.minFrameWidth)\n\n// 最大帧宽度\nconst maxFrameWidth = inject(Store.maxFrameWidth)\n\n// 合适帧宽度\nconst fitFrameWidth = inject(Store.fitFrameWidth)\n\n// 当前素材最大帧数\nconst maxFrameOfMaterial = inject(Store.maxFrameOfMaterial)\n\n// 需要加载上来的视频帧\nconst framesMap = inject(Store.framesMap)\n\nconst videoFrameList = inject(Store.videoFrameList)\n\n/** 依赖注入 end */\n\n/** 点击事件 start */\n// 点击放大\nconst clickZoomIn = () => {\n  TimeLine.zoomIn(frameWidth, maxFrameWidth)\n}\n\n// 点击缩小\nconst clickZoomOut = () => {\n  TimeLine.zoomOut(frameWidth, minFrameWidth)\n}\n\n// 点击缩放到合适\nconst clickZoomFit = () => {\n  TimeLine.zoomFit(frameWidth, fitFrameWidth)\n}\n\nwatchEffect(() => {\n  // 渲染 gridBufferList\n  Mapping.renderGridBufferList(\n    gridBufferList,\n    gridWidth.value,\n    groupGridFrame.value,\n    gridFrame.value,\n    timeLineOffsetLeft.value,\n    timeLine_width.value\n  )\n})\n\n// 计算 timeLineOffsetLeft\nonMounted(() => {\n  if (timeLine.value) {\n    timeLine.value.addEventListener('scroll', event => {\n      if (event.target) {\n        if (event.target.scrollLeft <= timescale_width.value - timeLine_width.value) {\n          // doing nothing\n          timeLineOffsetLeft.value = event.target.scrollLeft\n        }\n      }\n    })\n  } else {\n    console.log('error: timeLine.value is', timeLine.value)\n  }\n})\n</script>\n\n<style lang=\"scss\" scope>\n.timeline-container {\n  width: 100%;\n  height: 288px;\n  background: #202020;\n  border-top: 1px solid #1a1a1a;\n  display: flex;\n  flex-direction: column;\n\n  .top-operation-area {\n    height: 31px;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    div {\n      display: flex;\n      align-items: center;\n    }\n\n    .top-button-left {\n      width: 26px;\n      height: 20px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      margin-left: 8px;\n      border-radius: 5px;\n      cursor: pointer;\n\n      &:hover {\n        background: #1b1b1b;\n      }\n    }\n\n    .top-button-right {\n      width: 26px;\n      height: 20px;\n      display: flex;\n      justify-self: flex-end;\n      align-items: center;\n      justify-content: center;\n      margin-right: 8px;\n      border-radius: 5px;\n      cursor: pointer;\n\n      &:hover {\n        background: #1b1b1b;\n      }\n    }\n  }\n\n  .left-operation-area {\n    height: 100%;\n  }\n\n  .timeline {\n    width: calc(100% - 37px);\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    overflow-x: scroll;\n    box-shadow: inset 3px -3px 3px rgba(0, 0, 0, 0.1);\n\n    .timescale {\n      display: flex;\n      flex-direction: row;\n    }\n\n    .video-line {\n      margin-top: 15px;\n      height: 72px;\n      display: flex;\n      flex-direction: row;\n    }\n  }\n}\n</style>\n","import script from \"./TimeLine.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TimeLine.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./TimeLine.vue?vue&type=style&index=0&id=50b9e81a&lang=scss&scope=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div class=\"page-video\" v-loading=\"loading\">\n    <div class=\"video-editor-container left\">\n      <template v-if=\"currentFile\">\n        <!-- 中部视频预览器 -->\n        <video-player :show-mask=\"select\"></video-player>\n\n        <!-- 底部时间轴 -->\n        <time-line></time-line>\n      </template>\n      <!-- 顶部按钮 -->\n      <div class=\"upload\" v-else>\n        <div class=\"icon\">+</div>\n        <div class=\"title\">导入视频</div>\n        <div class=\"tip\">导入视频后自动保存到素材库</div>\n        <input\n          type=\"file\"\n          style=\"width: 100%; height: 100%; opacity: 0; position: absolute\"\n          multiple\n          ref=\"videoInputElement\"\n          @change=\"addVideoOnCurrentSection($event)\"\n          accept=\"video/*\"\n        />\n      </div>\n    </div>\n    <div class=\"right\">\n      <div class=\"video-info\" v-if=\"Object.keys(videoInfo).length\">\n        <div class=\"item\">\n          <div class=\"label\">名称:</div>\n          <div class=\"value\">{{ videoInfo.fileName }}</div>\n        </div>\n        <div class=\"item\">\n          <div class=\"label\">导入时间:</div>\n          <div class=\"value\">{{ dayjs(videoInfo.createAt).format('YYYY-MM-DD HH:mm:ss') }}</div>\n        </div>\n      </div>\n      <div class=\"video-info\" v-if=\"resultPath\">\n        <video :src=\"resultPath\" controls></video>\n      </div>\n      <div\n        class=\"box\"\n        :class=\"{\n          select: select\n        }\"\n        @click=\"handleSelect\"\n      >\n        <div class=\"size\"></div>\n        <div class=\"info\">9:16</div>\n      </div>\n\n      <div class=\"action\">\n        <el-button\n          type=\"primary\"\n          :disabled=\"!videoInfo.absolutePath || !select || !resultPath\"\n          @click=\"handleExport\"\n        >\n          导出\n        </el-button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport VideoPlayer from '@/components/VideoPlayer.vue'\nimport TimeLine from '@/components/TimeLine.vue'\nimport Store from '@/store'\nimport { inject, onUnmounted, ref } from 'vue'\nimport Mapping from '@/map'\nimport { VideoEditor } from '@/viewmodels'\nimport { getUser } from '@/utils/user'\nimport { exportVideoApi, fileUploadApi, fileEditApi } from '@/api/file'\nimport dayjs from 'dayjs'\n\n// 核心数据\nconst coreData = inject(Store.coreData)\n\n// 时间轴的宽度\nconst timeLineContainer_width = inject(Store.timeLineContainer_width)\n\n// 帧宽度：决定了时间轴的比例\nconst frameWidth = inject(Store.frameWidth)\n\n// 当前预览器加载的视频 URL\nconst currentVideoUrl = inject(Store.currentVideoUrl)\n\n// 合适的帧宽度\nconst fitFrameWidth = inject(Store.fitFrameWidth)\n\n// 当前段落级焦点\nconst currentSectionIndex = inject(Store.currentSectionIndex)\n\n// 视频选择器 input type=file\nconst videoInputElement = ref(null)\n\nconst currentFile = inject(Store.currentFile)\n\nconst videoInfo = ref({})\nconst user = getUser()\nconst loading = ref(false)\n\n// 视频上传 Callback\nconst addVideoOnCurrentSection = e => {\n  VideoEditor.addVideoOnCurrentSection(\n    e.target.files,\n    currentVideoUrl,\n    coreData,\n    frameWidth,\n    fitFrameWidth,\n    currentSectionIndex,\n    videoInputElement\n  )\n\n  currentFile.value = e.target.files[0]\n\n  const fd = new FormData()\n  fd.append('file', e.target.files[0])\n  fd.append('userId', user.id)\n  loading.value = true\n  fileUploadApi(fd)\n    .then(res => {\n      videoInfo.value = res.data\n    })\n    .finally(() => {\n      loading.value = false\n    })\n}\n\n// 初始化：时间轴组件的宽度\ntimeLineContainer_width.value = Mapping.calcTimeLineContainerWidth(document.body.clientWidth)\n\n// 动态监听：窗口变化 -> 时间轴组件的宽度\nwindow.onresize = () =>\n  (() => {\n    timeLineContainer_width.value = Mapping.calcTimeLineContainerWidth(document.body.clientWidth)\n  })()\n\nconst resultPath = ref('')\nconst select = ref(false)\nconst handleProcessVideo = () => {\n  loading.value = true\n  exportVideoApi({\n    path: videoInfo.value.absolutePath,\n    fileId: videoInfo.value.id\n  })\n    .then(res => {\n      resultPath.value = '/video-api' + res.data\n      fileEditApi({\n        id: videoInfo.value.id,\n        resultPath: res.data\n      })\n    })\n    .finally(() => {\n      loading.value = false\n    })\n}\n\nconst handleSelect = () => {\n  select.value = !select.value\n  if (!resultPath.value) {\n    handleProcessVideo()\n  }\n}\n\nconst handleExport = () => {\n  window.open(resultPath.value)\n}\n\nonUnmounted(() => {\n  currentFile.value = null\n})\n</script>\n\n<style lang=\"scss\" scope>\n.el-dropdown-menu__item {\n  padding: 0;\n  .item {\n    padding: 5px 16px;\n    position: relative;\n  }\n}\n.page-video {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  .left {\n    flex: 1;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .right {\n    width: 30%;\n    height: 100%;\n    background: #1b1b1c;\n    padding: 20px;\n\n    position: relative;\n\n    .video-info {\n      border-bottom: 2px solid #2d2d2e;\n      padding: 20px 0;\n      margin-bottom: 20px;\n\n      video {\n        display: block;\n        width: 180px;\n        height: 320px;\n        margin: 0 auto;\n      }\n\n      .item {\n        &:not(:last-child) {\n          margin-bottom: 20px;\n        }\n        display: flex;\n        align-items: center;\n        .label {\n          width: 80px;\n          color: #a2a2a2;\n        }\n      }\n    }\n\n    .box {\n      display: inline-flex;\n      padding: 8px;\n      flex-direction: column;\n      align-items: center;\n      width: 64px;\n      background: #2d2d2e;\n      border-radius: 5px;\n      border: 2px solid transparent;\n      user-select: none;\n      cursor: pointer;\n\n      &.select {\n        border: 2px solid var(--el-color-primary);\n      }\n      .size {\n        width: 18px;\n        height: 32px;\n        background: #464646;\n        border: 2px solid #b9b9b9;\n        margin-bottom: 8px;\n      }\n      .info {\n        font-size: 14px;\n      }\n    }\n\n    .action {\n      position: fixed;\n      bottom: 0;\n      right: 0;\n      width: 100%;\n      background: #252528;\n      padding: 16px;\n\n      display: flex;\n      align-items: center;\n      justify-content: flex-end;\n    }\n  }\n}\n.info-container {\n  position: fixed;\n  top: 0;\n  left: 0;\n  display: flex;\n  flex-direction: column;\n  color: #efefef;\n  font-size: 14px;\n\n  .title {\n    font-weight: bold;\n    margin: 15px;\n  }\n\n  div {\n    margin: 10px;\n  }\n}\n\n.video-editor-container {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.upload {\n  width: 600px;\n  height: 300px;\n  background: #1a1a1a;\n  position: relative;\n  border-radius: 5px;\n  input {\n    cursor: pointer;\n  }\n\n  border: 1px dashed #a2a2a2;\n\n  &:hover {\n    border: 1px dashed #fff;\n  }\n\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n\n  .icon {\n    width: 40px;\n    height: 40px;\n    background: var(--el-color-primary);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-radius: 50%;\n    font-size: 24px;\n    font-weight: bold;\n  }\n\n  .title {\n    font-size: 18px;\n    font-weight: bold;\n    color: #fff;\n    margin: 8px 0;\n  }\n\n  .tip {\n    font-size: 14px;\n    color: #a2a2a2;\n  }\n}\n</style>\n","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=ade271ec&lang=scss&scope=true\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["filePageApi","params","api","fileDeleteApi","id","fileUploadApi","fd","headers","exportVideoApi","hideMessage","fileEditApi","currentVideoUrl","inject","Store","isPlay","ref","watch","value","video","videoRef","currentTime","duration","play","pause","progressBarRef","progressLineRef","progressIndicatorRef","handleLoaded","e","target","formattedDuration","d","hours","Math","floor","minutes","seconds","formattedHours","toString","padStart","formattedMinutes","formattedSeconds","dragging","updateProgressBar","progressLine","progressIndicator","progress","style","width","left","startDrag","progressBar","handleMouseMove","rect","getBoundingClientRect","x","clientX","handleMouseUp","document","removeEventListener","addEventListener","__exports__","height","computed","props","showNumber","time","Mapping","frame","frameWidth","backgroundStyle","image","position","frameHeight","watchEffect","frames","imageList","positionList","i","length","blobUrl","push","join","onRenderTriggered","event","visionTrackMaterial","timelineIn","timelineOut","coreData","videoTrackMaterialList","sections","currentSectionIndex","sectionTimeline","visionTrack","visionTrackMaterials","timeLine","gridBufferList","timeLineContainer_width","timeLineOffsetLeft","timeLine_width","timescale_width","timescale_placeholder_width","gridWidth","gridFrame","groupGridFrame","minFrameWidth","maxFrameWidth","fitFrameWidth","maxFrameOfMaterial","framesMap","clickZoomIn","TimeLine","clickZoomOut","clickZoomFit","onMounted","scrollLeft","console","log","videoInputElement","currentFile","videoInfo","user","getUser","loading","addVideoOnCurrentSection","VideoEditor","files","FormData","append","then","res","data","finally","body","clientWidth","window","onresize","resultPath","select","handleProcessVideo","path","absolutePath","fileId","handleSelect","handleExport","open","onUnmounted"],"sourceRoot":""}