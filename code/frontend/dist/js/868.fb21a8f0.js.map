{"version":3,"file":"js/868.fb21a8f0.js","mappings":"sRAGO,MAAMA,EAAWC,GAAUC,EAAAA,EAAAA,KAAS,kBAAmBD,GAGjDE,EAAcF,GAAUC,EAAAA,EAAAA,IAAQ,iBAAkB,CAAED,OAAAA,IAGpDG,EAAgBC,GAAMH,EAAAA,EAAAA,UAAW,aAAeG,GAGhDC,EAAaL,GAAUC,EAAAA,EAAAA,KAAS,YAAaD,GAG7CM,EAAcN,GAAUC,EAAAA,EAAAA,IAAQ,YAAaD,GAG7CO,EAAcP,GAAUC,EAAAA,EAAAA,IAAQ,YAAa,CAAED,OAAAA,K,mTCqB5D,MAAMQ,GAAOC,EAAAA,EAAAA,IAAI,CACfC,SAAU,GACVC,SAAU,KAGNC,GAAUH,EAAAA,EAAAA,IAAI,MAEdI,EAAQ,CACZH,SAAU,CAAC,CAAEI,UAAU,EAAMC,QAAS,QAASC,QAAS,SACxDL,SAAU,CAAC,CAAEG,UAAU,EAAMC,QAAS,QAASC,QAAS,UAGpDC,GAAUR,EAAAA,EAAAA,KAAI,GAEdS,GAASC,EAAAA,EAAAA,MACTC,EAAW,KAEfR,EAAQS,MAAMC,UAASC,IACjBA,IAEFN,EAAQI,OAAQ,GAChBtB,EAAAA,EAAAA,IAASS,EAAKa,OACXG,MAAKC,IAEJC,EAAAA,GAAAA,QAAwB,aAAYD,EAAIE,KAAKjB,aAE7CkB,EAAAA,EAAAA,IAAQH,EAAIE,MAEZT,EAAOW,KAAK,QAEbC,SAAQ,KACPb,EAAQI,OAAQ,U,0jCChE1B,MAAMU,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE","sources":["webpack://frontend/./src/api/user.js","webpack://frontend/./src/views/login.vue","webpack://frontend/./src/views/login.vue?6051"],"sourcesContent":["import api from '@/utils/request'\n\n// 登陆\nexport const loginApi = params => api.post('/api/user/login', params)\n\n// 分页查询用户\nexport const userPageApi = params => api.get('/api/user/page', { params })\n\n// 删除用户\nexport const userDeleteApi = id => api.delete('/api/user/' + id)\n\n// 新增用户\nexport const userAddApi = params => api.post('/api/user', params)\n\n// 修改用户\nexport const userEditApi = params => api.put('/api/user', params)\n\n// 获取用户列表\nexport const userListApi = params => api.get('/api/user', { params })\n","<template>\n  <div class=\"login\" v-loading=\"loading\">\n    <el-card shadow=\"always\" :body-style=\"{ padding: '30px' }\">\n      <template #header>\n        <span class=\"title\">登陆</span>\n      </template>\n\n      <el-form :model=\"form\" ref=\"formRef\" :rules=\"rules\" label-position=\"top\">\n        <el-form-item label=\"账号\" prop=\"username\">\n          <el-input v-model=\"form.username\" placeholder=\"请输入账号\" clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"密码\" prop=\"password\">\n          <el-input\n            v-model=\"form.password\"\n            type=\"password\"\n            placeholder=\"请输入密码\"\n            clearable\n            show-password\n          ></el-input>\n        </el-form-item>\n      </el-form>\n\n      <div class=\"sub\">\n        <el-button type=\"primary\" @click=\"onSubmit\" style=\"width: 100%\">登陆</el-button>\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\n\nimport { loginApi } from '@/api/user'\nimport { useRouter } from 'vue-router'\n\nimport { setUser } from '@/utils/user'\nimport { ElNotification } from 'element-plus'\n\n// 登陆表单\nconst form = ref({\n  username: '',\n  password: ''\n})\n// form表单ref对象\nconst formRef = ref(null)\n// 表单验证规则\nconst rules = {\n  username: [{ required: true, message: '请输入账号', trigger: 'blur' }],\n  password: [{ required: true, message: '请输入密码', trigger: 'blur' }]\n}\n\nconst loading = ref(false)\n// 路由对象\nconst router = useRouter()\nconst onSubmit = () => {\n  // 校验表单\n  formRef.value.validate(valid => {\n    if (valid) {\n      // 发送登陆请求\n      loading.value = true\n      loginApi(form.value)\n        .then(res => {\n          // 登陆成功\n          ElNotification.success(`登陆成功,欢迎回来 ${res.data.username}`)\n          // 保存用户信息\n          setUser(res.data)\n          // 跳转到首页\n          router.push('/')\n        })\n        .finally(() => {\n          loading.value = false\n        })\n    }\n  })\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.login {\n  width: 400px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  .title {\n    display: inline-block;\n    width: 100%;\n    text-align: center;\n    font-size: 20px;\n    font-weight: 600;\n  }\n\n  :deep(.el-form-item) {\n    margin-bottom: 30px;\n  }\n}\n</style>\n","import script from \"./login.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./login.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./login.vue?vue&type=style&index=0&id=6ae87258&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/pdxing/Desktop/order/20240104_vue+java仿剪映_3040/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6ae87258\"]])\n\nexport default __exports__"],"names":["loginApi","params","api","userPageApi","userDeleteApi","id","userAddApi","userEditApi","userListApi","form","ref","username","password","formRef","rules","required","message","trigger","loading","router","useRouter","onSubmit","value","validate","valid","then","res","ElNotification","data","setUser","push","finally","__exports__"],"sourceRoot":""}